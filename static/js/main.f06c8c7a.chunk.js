(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(96)},42:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),c=a.n(s),i=(a(42),a(7)),u=a(8),o=a(10),l=a(9),m=a(11),d=a(3),h=a(98),p=a(99),f=a(100),b=a(31),v=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(l.a)(t).call(this))).state={name:"",difficulty:e.options[0].value},e.onSubmitHandler=e.onSubmitHandler.bind(Object(d.a)(Object(d.a)(e))),e.onChangeHandler=e.onChangeHandler.bind(Object(d.a)(Object(d.a)(e))),e.redirect=e.redirect.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onSubmitHandler",value:function(e){e.preventDefault();var t=this.state,a=t.name,n=t.difficulty;a.trim().length?this.props.onSubmit(a,n,this.redirect):alert("Name jest wymagane")}},{key:"redirect",value:function(){this.props.history.push("/game")}},{key:"onChangeHandler",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"renderOption",value:function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}},{key:"render",value:function(){return r.a.createElement("div",{className:"l-centered"},r.a.createElement("form",{className:"f-start",onSubmit:this.onSubmitHandler},r.a.createElement("label",{htmlFor:"name",className:"f-start__label"},"Name"),r.a.createElement("input",{name:"name",id:"name",className:"f-start__control",value:this.state.name,onChange:this.onChangeHandler}),r.a.createElement("label",{htmlFor:"difficulty",className:"f-start__label"},"Difficulty"),r.a.createElement("select",{className:"f-start__control",name:"difficulty",id:"difficulty",value:this.state.difficulty,onChange:this.onChangeHandler},this.options.map(this.renderOption)),r.a.createElement("button",{className:"f-start__action"},"Submit")))}},{key:"options",get:function(){return[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}]}}]),t}(r.a.Component),y=a(35),O=function(e){return r.a.createElement("div",{className:"c-background"},e.children)},j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).renderAnswer=function(e,t){return r.a.createElement("li",{key:t,className:"c-question",onClick:a.props.onAnswerClick(e)},r.a.createElement("span",{className:"c-question__label"},String.fromCharCode(65+t),": ",e))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.answers;return r.a.createElement("div",{className:"c-questions"},r.a.createElement("p",{className:"c-questions__title c-question"},t),r.a.createElement("ul",{className:"c-questions__list"},a.map(this.renderAnswer)))}}]),t}(r.a.Component),E=a(32),g=a.n(E),N=[{price:1e6,isGuaranteed:!0},{price:5e5,isGuaranteed:!1},{price:25e4,isGuaranteed:!1},{price:125e3,isGuaranteed:!1},{price:75e3,isGuaranteed:!1},{price:4e4,isGuaranteed:!0},{price:2e4,isGuaranteed:!1},{price:1e4,isGuaranteed:!1},{price:5e3,isGuaranteed:!1},{price:2e3,isGuaranteed:!1},{price:1e3,isGuaranteed:!0},{price:500,isGuaranteed:!1}],k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).renderItem=function(e,t){var n=e.price,s=e.isGuaranteed,c=a.props.questionNumber,i=c===a.lastQuestionIndex-t,u=c>a.lastQuestionIndex-t;console.log("".concat(s));var o="c-status__item".concat(i?" is-active":"").concat(u?" is-done":"").concat(s?" is-special":"");return r.a.createElement("li",{key:n,className:o},r.a.createElement("span",{className:"c-status__indicator"},N.length-t),r.a.createElement("span",{className:"c-status-value"},n))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"c-side"},r.a.createElement("ul",{className:"c-status"},N.map(this.renderItem)))}},{key:"lastQuestionIndex",get:function(){return N.length-1}}]),t}(r.a.Component),w=a(33),_=a.n(w),S=a(97),G=function(e){console.log("czy wygrana: ".concat(e.hasWon));var t=e.hasWon?1e6:function(e){if(!e)return 0;var t=N.slice(-e).find(function(e){return e.isGuaranteed});return t?t.price:0}(e.questionNumber);return r.a.createElement("div",{className:"l-end"},r.a.createElement("p",null,"Game over ",e.username),r.a.createElement("p",null,"You won ",t," $"),r.a.createElement(S.a,{to:"/"},"Restart"))},q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(l.a)(t).call(this))).state={questions:[],currentQuestionNumber:0},e.getQuestions=e.getQuestions.bind(Object(d.a)(Object(d.a)(e))),e.checkAnswer=e.checkAnswer.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.hasStarted?this.getQuestions():this.props.history.replace("/")}},{key:"getQuestions",value:function(){var e,t=this;(e=this.props.difficulty,g.a.get("http://react-workshop-api.herokuapp.com/",{params:{difficulty:e}}).then(function(e){var t=e.data.results;return(void 0===t?[]:t).map(function(e){return{category:e.category,question:e.question,correctAnswer:e.correct_answer,incorrectAnswers:e.incorrect_answers}})})).then(function(e){t.setState({questions:e}),console.log(e)})}},{key:"checkAnswer",value:function(e){var t=this;return function(){e===t.currentQuestionNumber.correctAnswer?t.state.currentQuestionNumber<11?t.setState(function(e){return{currentQuestionNumber:e.currentQuestionNumber+1}}):t.setState({hasWon:!0,isFinished:!0}):(alert("przegrales"),t.setState({hasWon:!1,isFinished:!0}))}}},{key:"render",value:function(){var e=this.currentQuestionNumber||{},t=e.correctAnswer,a=e.incorrectAnswers,n=void 0===a?[]:a,s=e.question;return this.state.isFinished?r.a.createElement(G,{questionNumber:this.state.currentQuestionNumber,username:this.props.username,hasWon:this.state.hasWon}):r.a.createElement("div",{className:"l-game"},r.a.createElement(O,null,r.a.createElement(j,{answers:_()([t].concat(Object(y.a)(n))),question:s,onAnswerClick:this.checkAnswer})),r.a.createElement(k,{questionNumber:this.state.currentQuestionNumber}))}},{key:"currentQuestionNumber",get:function(){return this.state.questions[this.state.currentQuestionNumber]}}]),t}(r.a.Component),C=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(l.a)(t).call(this))).state={hasStarted:!1,name:"",difficulty:""},e.setupGame=e.setupGame.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"setupGame",value:function(e,t,a){this.setState({name:e,difficulty:t,hasStarted:!0},a)}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement(p.a,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(v,{onSubmit:e.setupGame,history:t.history})}}),r.a.createElement(f.a,{exact:!0,path:"/game",render:function(t){return r.a.createElement(q,{hasStarted:e.state.hasStarted,history:t.history,username:e.state.name,difficulty:e.state.difficulty})}}),r.a.createElement(f.a,{render:function(){return r.a.createElement("p",null,"404 page not found")}})))}}]),t}(n.Component);c.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[37,2,1]]]);
//# sourceMappingURL=main.f06c8c7a.chunk.js.map